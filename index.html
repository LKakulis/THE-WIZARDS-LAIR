<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE WIZARD'S LAIR</title>
<!--Font-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pirata+One&display=swap" rel="stylesheet">
<!--Font-->
    <link href="frank-the-great.css" rel="stylesheet" type="text/css">
    <link href="magic-objects.css" rel="stylesheet" type="text/css">
    <link href="interactive.css" rel="stylesheet" type="text/css">
</head>

<body>

<!-- BACKGROUND STUFFS -->

<img src="assets/wizard_shelf_large.png" class="shelf">

<!-- MAGICAL OBJECTS AND ITEMS -->
<div class="mmm">
    <img src="./assets/objects/gum.png" class="object-univ object1">
    <img src="./assets/objects-hover/gum-copy.png" class="object-univ object1hover">

    <img src="./assets/objects/clown.png" class="object-univ object2">
    <img src="./assets/objects-hover/clown-copy.png" class="object-univ object2hover">

    <img src="./assets/objects/button.png" class="object-univ object3">
    <img src="./assets/objects-hover/button-copy.png" class="object-univ object3hover">

    <img src="./assets/objects/wire.png" class="object-univ object4">
    <img src="./assets/objects-hover/wire-copy.png" class="object-univ object4hover">

    <a href="./dimensions/spooky-cave.html" class="object-univ object5"></a>
    <img src="./assets/objects-hover/spooky-copy.png" class="object-univ object5hover">

    <img src="./assets/objects/cheese.png" class="object-univ object6">
    <img src="./assets/objects-hover/cheese-copy.png" class="object-univ object6hover">

    <img src="./assets/objects/nose.png" class="object-univ object7">
    <img src="./assets/objects-hover/nose-copy.png" class="object-univ object7hover">

    <img src="./assets/objects/grujble.png" class="object-univ object8">
    <img src="./assets/objects-hover/grujble-copy.png" class="object-univ object8hover">

    <a href="./dimensions/shapes-in-timeout.html" class="object-univ object9"></a>
    <img src="./assets/objects-hover/shapes-copy.png" class="object-univ object9hover">

    <img src="./assets/objects/mustache.png" class="object-univ object10">
    <img src="./assets/objects-hover/mustache-copy.png" class="object-univ object10hover">

    <img src="./assets/objects/key.png" class="object-univ object11">
    <img src="./assets/objects-hover/key-copy.png" class="object-univ object11hover">

    <a href="./dimensions/favorite-breakfast-cereal.html" class="object-univ object12"></a>
    <img src="./assets/objects-hover/cereal-copy.png" class="object-univ object12hover">


    <img src="./assets/objects/music.png" class="object-univ object13">
    <img src="./assets/objects-hover/music-copy.png" class="object-univ object13hover">

    <img src="./assets/objects/toiletries.png" class="object-univ object14">
    <img src="./assets/objects-hover/toiletries-copy.png" class="object-univ object14hover">

    <a href="./dimensions/interdimensional-globulul.html" class="object-univ object15"></a>
    <img src="./assets/objects-hover/portal-hover.gif" class="object-univ object15hover">

    <img src="./assets/objects/glass.png" class="object-univ object16">
    <img src="./assets/objects-hover/glass-copy.png" class="object-univ object16hover">

    <img src="./assets/objects/mini-wizard.png" class="object-univ object17">
    <img src="./assets/objects-hover/mini-wizard-copy.png" class="object-univ object17hover">

    <a href="./dimensions/cool-rock.html" class="object-univ object18"></a>
    <img src="./assets/objects-hover/cool-rock-copy.png" class="object-univ object18hover">


    <img src="./assets/objects/card.png" class="object-univ object19">
    <img src="./assets/objects-hover/card-copy.png" class="object-univ object19hover">

    <img src="./assets/objects/lanes.png" class="object-univ object20">
    <img src="./assets/objects-hover/lanes-copy.png" class="object-univ object20hover">
</div>


<!-- FRANK THE GREAT WIZARD!!!! -->
<img src="./assets/wizard_animations/wizard-idle-animation.gif" alt="Wizard Idle" class="idle">
<img src="./assets/wizard_animations/wizard-baseline.gif" alt="Wizard Baseline" class="baseline">
<img src="./assets/wizard_animations/wizard-excited.gif" alt="Wizard Excited" class="excitement">
<img src="./assets/wizard_animations/wizard-anger.gif" alt="Wizard Angry" class="anger">
<img src="./assets/wizard_animations/wizard-fear.gif" alt="Wizard Fear" class="fear">
<img src="./assets/wizard_animations/wizard-confusion.gif" alt="Wizard Confusion" class="confusion">


    <!-- text bubbles --><div>
        <div id="intro-text" class="text-bubble-intro"><p class="text-univ" id="typewriter-text" ></p></div>
        <div class="text-bubble-univ text1"> <p class="text-univ" data-fulltext="I have been collecting various mucilage for many a fortnight to construct this beautiful GUM WAD!! "></p> </div>
        <div class="text-bubble-univ text2"> <p class="text-univ" data-fulltext="I didn't have any clowns in my lair so I took some of the clowns home with me from the circus."></p> </div>
        <div class="text-bubble-univ text3"> <p class="text-univ" data-fulltext="Now those dastardly enemy wizard fool's pantaloons will have befalled, hehehehe"></p> </div>
        <div class="text-bubble-univ text4"> <p class="text-univ" data-fulltext="You know how expensive a lair is in the Wizardly end of wizard town?? Gotta make ends meet somehow"></p> </div>
        <div class="text-bubble-univ text6"> <p class="text-univ" data-fulltext="This cheese confounds me"></p> </div>
        <div class="text-bubble-univ text7"> <p class="text-univ" data-fulltext="I stole that from Gerard in Wizard kindergarten. I hope he isn't coming to find it or hoping to smell anything soon either."></p> </div>
        <div class="text-bubble-univ text8"> <p class="text-univ" data-fulltext="Gumble knows how to have a good time. Love gumble.  Gumble has good connections"></p> </div>
        <div class="text-bubble-univ text10"> <p class="text-univ" data-fulltext="You don't even know how many of those I go through in a week"></p> </div>
        <div class="text-bubble-univ text11"> <p class="text-univ" data-fulltext="Fools know what happens to those who wizard breakcheck on wizard route 495."></p> </div>
        <div class="text-bubble-univ text13"> <p class="text-univ" data-fulltext="I still hear it to this day"></p> </div>
        <div class="text-bubble-univ text14"> <p class="text-univ" data-fulltext="For some reason this is the best free wizard shampoo and conditioner I've ever found."></p> </div>
        <div class="text-bubble-univ text16"> <p class="text-univ" data-fulltext="Don't tell aunt abra cadabra I broke my *cough cough* lovely glass bicycle I got for wizmas."></p> </div>
        <div class="text-bubble-univ text17"> <p class="text-univ" data-fulltext="He keeps stealing my spoons. It was my box of wizard o's not his!!"></p> </div>
        <div class="text-bubble-univ text19"> <p class="text-univ" data-fulltext="I wonder if I have enough points to get a wizard slap bracelet"></p> </div>
        <div class="text-bubble-univ text20"> <p class="text-univ" data-fulltext="NOW EVERYONE CAN HAVE FUN DRIVING IN THE SAME LANE!!!"></p> </div>                
            <div class="hide">
                div class="text-bubble-univ text5"><p>object5</p>/div>
            </div>
        
            <div class="hide">
                div class="text-bubble-univ text9"><p>object9</p>/div>
            </div>
        
            <div class="hide">
                div class="text-bubble-univ text12"><p>object12</p>/div>
            </div>
        
            <div class="hide">
                div class="text-bubble-univ text15"><p>object15</p>/div>
            </div>
        
            <div class="hide">
                div class="text-bubble-univ text18"><p>object18</p>/div>
            </div>
        
    </div>




<!-- other elements -->
<a href="about-page.html" class="about-page-button"></a>

    <!-- audio --><div>
        <audio id="testobject1" src="./assets/audio/gum.mp3" preload="auto"></audio>
        <audio id="testobject2" src="./assets/audio/clown.mp3" preload="auto"></audio>
        <audio id="testobject3" src="./assets/audio/button.mp3" preload="auto"></audio>
        <audio id="testobject4" src="./assets/audio/wire.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject5" src="./assets/testaudio/testobject5.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject6" src="./assets/audio/cheese.mp3" preload="auto"></audio>
        <audio id="testobject7" src="./assets/audio/nose.mp3" preload="auto"></audio>
        <audio id="testobject8" src="./assets/audio/gumble.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject9" src="./assets/testaudio/testobject9.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject10" src="./assets/audio/mustache.mp3" preload="auto"></audio>
        <audio id="testobject11" src="./assets/audio/key.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject12" src="./assets/testaudio/testobject12.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject13" src="./assets/audio/music.mp3" preload="auto"></audio>
        <audio id="testobject14" src="./assets/audio/hotel.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject15" src="./assets/testaudio/testobject15.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject16" src="./assets/audio/bike.mp3" preload="auto"></audio>
        <audio id="testobject17" src="./assets/audio/spoon.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject18" src="./assets/testaudio/testobject18.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject19" src="./assets/audio/card.mp3" preload="auto"></audio>
        <audio id="testobject20" src="./assets/audio/lane.mp3" preload="auto"></audio>
    </div>


    <!-- scripts --> <div>      
    <script>
document.addEventListener("DOMContentLoaded", () => {

    const objects = document.querySelectorAll(".object-univ");  
    let currentAudio = null;

    function stopAllAudio() {
        document.querySelectorAll("audio").forEach(a => {
            a.pause();
            a.currentTime = 0;
        });
        currentAudio = null;
    }

    objects.forEach(obj => {

        const numClass = [...obj.classList].find(c => c.startsWith("object") && c !== "object-univ");
        if (!numClass) return;

        const num = numClass.replace("object", "");
        const audio = document.getElementById(`testobject${num}`);
        if (!audio) return;

        obj.addEventListener("pointerdown", () => {
            stopAllAudio();

            currentAudio = audio;
            currentAudio.play().catch(err => console.warn(err));
        });

        obj.addEventListener("pointerup", stopAllAudio);
        obj.addEventListener("pointerleave", stopAllAudio);
    });

    document.addEventListener("pointerup", stopAllAudio);
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {

    if (localStorage.getItem("audioAllowed") === "true") {

        const unlockAudio = () => {
            document.querySelectorAll("audio").forEach(a => {
                a.play().catch(()=>{});
                a.pause();
                a.currentTime = 0;
            });

            document.removeEventListener("pointerdown", unlockAudio);
        };

        document.addEventListener("pointerdown", unlockAudio);
    }
});
</script>

    <script>
document.addEventListener('DOMContentLoaded', () => {
  const typewriterElement = document.getElementById('typewriter-text');
  const textToType = "WELCOME TO MY WIZARDS LAIR. You can (HOLD) any of my WIZARD objects for me to tell you about them!";
  let i = 0;
  const typingSpeed = 50;
  const disappearanceDelay = 5000;

  function typeWriter() {
    if (i < textToType.length) {
      typewriterElement.innerHTML += textToType.charAt(i);
      i++;
      setTimeout(typeWriter, typingSpeed);
    } else {
      setTimeout(() => {
        typewriterElement.style.display = 'none';
      }, disappearanceDelay);
    }
  }

  typeWriter();
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const intro = document.getElementById("intro-text");

    if (localStorage.getItem("introShown") === "true") {
        intro.style.display = "none";
    } else {
        intro.style.display = "block";
        localStorage.setItem("introShown", "true");
    }
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const objects = document.querySelectorAll(".object-univ");

    objects.forEach(obj => {

        const numClass = [...obj.classList].find(c => c.startsWith("object") && c !== "object-univ");
        if (!numClass) return;

        const num = numClass.replace("object", "");
        const bubble = document.querySelector(`.text${num}`);
        if (!bubble) return;

        const p = bubble.querySelector(".text-univ");
        const fullText = p.dataset.fulltext;
        let typerInterval = null;
        let index = 0;

        function startTypewriter() {
            p.textContent = "";
            index = 0;

            typerInterval = setInterval(() => {
                if (index < fullText.length) {
                    p.textContent += fullText.charAt(index);
                    index++;
                } else {
                    clearInterval(typerInterval);
                }
            }, 50); 
        }

        function stopTypewriter() {
            clearInterval(typerInterval);
            p.textContent = "";
        }

        obj.addEventListener("pointerdown", () => {
            bubble.style.display = "block";
            startTypewriter();
        });

        function hide() {
            bubble.style.display = "none";
            stopTypewriter();
        }

        obj.addEventListener("pointerup", hide);
        obj.addEventListener("pointerleave", hide);
    });
});
</script>





    </div>

</body>
</html>