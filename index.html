<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE WIZARD'S LAIR</title>
<!--Font-->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Pirata+One&display=swap" rel="stylesheet">
<!--Font-->
    <link href="frank-the-great.css" rel="stylesheet" type="text/css">
    <link href="magic-objects.css" rel="stylesheet" type="text/css">
    <link href="interactive.css" rel="stylesheet" type="text/css">
</head>

<body>

<!-- BACKGROUND STUFFS -->

<img src="assets/wizard_shelf_large.png" class="shelf">

<!-- MAGICAL OBJECTS AND ITEMS -->
<div class="mmm">
    <div class="object-univ object1 draggable ">wad of used gum</div>
    <div class="object-univ object2">semi-sentient can of clown</div>
    <div class="object-univ object3">buttons from enemy wizard's pants</div>
    <div class="object-univ object4">coil of copper wire</div>
    <a href="./dimensions/spooky-cave.html" class="object-univ object5">bottle of spooky cave</a>
    <div class="object-univ object6">cheese</div>
    <div class="object-univ object7">someones nose from got your nose</div>
    <div class="object-univ object8">Gumble</div>
    <a href="./dimensions/shapes-in-timeout.html" class="object-univ object9">shapes in timeout</a>
    <div class="object-univ object10">reserve mustache</div>
    <div class="object-univ object11">bottom segment of car keys</div>
    <a href="./dimensions/favorite-breakfast-cereal.html" class="object-univ object12">favorite breakfast cereal</a>
    <div class="object-univ object13">bottle of music one couldn't forget</div>
    <div class="object-univ object14">favorite breakfast cereal (toy removed)</div>
    <a href="./dimensions/interdimensional-globulul.html" class="object-univ object15">INTERDIMENSIONAL GLOBULUL</a>
    <div class="object-univ object16">glass bicycle</div>
    <div class="object-univ object17">mini wizard with spoon (evil?)</div>
    <a href="./dimensions/pretty-leaf.html" class="object-univ object18">pretty leaf</a>
    <div class="object-univ object19">bowladrome gift card (points or no?)</div>
    <div class="object-univ object20">Lane lines from highway</div>
</div>


<!-- FRANK THE GREAT WIZARD!!!! -->
<img src="./assets/wizard_animations/wizard-idle-animation.gif" alt="Wizard Idle" class="idle">
<img src="./assets/wizard_animations/wizard-baseline.gif" alt="Wizard Baseline" class="baseline">
<img src="./assets/wizard_animations/wizard-excited.gif" alt="Wizard Excited" class="excitement">
<img src="./assets/wizard_animations/wizard-anger.gif" alt="Wizard Angry" class="anger">
<img src="./assets/wizard_animations/wizard-fear.gif" alt="Wizard Fear" class="fear">
<img src="./assets/wizard_animations/wizard-confusion.gif" alt="Wizard Confusion" class="confusion">


    <!-- text bubbles --><div>
        <div id="intro-text" class="text-bubble-intro"><p class="text-univ" id="typewriter-text" ></p></div>
        <div class="text-bubble-univ text1"> <p class="text-univ" data-fulltext="Object 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text2"> <p class="text-univ" data-fulltext="Object 2 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text3"> <p class="text-univ" data-fulltext="Object 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text4"> <p class="text-univ" data-fulltext="Object 4 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text6"> <p class="text-univ" data-fulltext="Object 6 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text7"> <p class="text-univ" data-fulltext="Object 7 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text8"> <p class="text-univ" data-fulltext="Object 8 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text10"> <p class="text-univ" data-fulltext="Object 10 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text11"> <p class="text-univ" data-fulltext="Object 11 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text13"> <p class="text-univ" data-fulltext="Object 13 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text14"> <p class="text-univ" data-fulltext="Object 14 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text16"> <p class="text-univ" data-fulltext="Object 16 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text17"> <p class="text-univ" data-fulltext="Object 17 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text19"> <p class="text-univ" data-fulltext="Object 19 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>
        <div class="text-bubble-univ text20"> <p class="text-univ" data-fulltext="Object 20 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer quis ligula porttitor, consectetur quam et, tincidunt sem."></p> </div>                
            <div class="hide">
                div class="text-bubble-univ text5"><p>object5</p>/div>
            </div>
        
            <div class="hide">
                div class="text-bubble-univ text9"><p>object9</p>/div>
            </div>
        
            <div class="hide">
                div class="text-bubble-univ text12"><p>object12</p>/div>
            </div>
        
            <div class="hide">
                div class="text-bubble-univ text15"><p>object15</p>/div>
            </div>
        
            <div class="hide">
                div class="text-bubble-univ text18"><p>object18</p>/div>
            </div>
        
    </div>




<!-- other elements -->
<a href="about-page.html" class="about-page-button">?</a>

    <!-- audio --><div>
        <audio id="testobject1" src="./assets/testaudio/testobject1.mp3" preload="auto"></audio>
        <audio id="testobject2" src="./assets/testaudio/testobject2.mp3" preload="auto"></audio>
        <audio id="testobject3" src="./assets/testaudio/testobject3.mp3" preload="auto"></audio>
        <audio id="testobject4" src="./assets/testaudio/testobject4.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject5" src="./assets/testaudio/testobject5.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject6" src="./assets/testaudio/testobject6.mp3" preload="auto"></audio>
        <audio id="testobject7" src="./assets/testaudio/testobject7.mp3" preload="auto"></audio>
        <audio id="testobject8" src="./assets/testaudio/testobject8.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject9" src="./assets/testaudio/testobject9.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject10" src="./assets/testaudio/testobject10.mp3" preload="auto"></audio>
        <audio id="testobject11" src="./assets/testaudio/testobject11.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject12" src="./assets/testaudio/testobject12.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject13" src="./assets/testaudio/testobject13.mp3" preload="auto"></audio>
        <audio id="testobject14" src="./assets/testaudio/testobject14.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject15" src="./assets/testaudio/testobject15.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject16" src="./assets/testaudio/testobject16.mp3" preload="auto"></audio>
        <audio id="testobject17" src="./assets/testaudio/testobject17.mp3" preload="auto"></audio>
            <div class="hide">
                audio id="testobject18" src="./assets/testaudio/testobject18.mp3" preload="auto">/audio>
            </div>
        <audio id="testobject19" src="./assets/testaudio/testobject19.mp3" preload="auto"></audio>
        <audio id="testobject20" src="./assets/testaudio/testobject20.mp3" preload="auto"></audio>
    </div>


    <!-- scripts --> <div>
    <script>
    const audio = document.getElementById('testobject1');
    const audioButton = document.getElementsByClassName('object1')[0];


    audioButton.addEventListener('mousedown', function(){
        audio.play();
    });

    audioButton.addEventListener("mouseup", function() {
        audio.pause();

        audio.currentTime = 0; 
    });
    </script>

    <script>
    const audio2 = document.getElementById('testobject2');
    const audioButton2 = document.getElementsByClassName('object2')[0];

    audioButton2.addEventListener('mousedown', function(){
        audio2.play();
    });

    audioButton2.addEventListener("mouseup", function() {
        audio2.pause();

        audio2.currentTime = 0; 
    });
    </script>

    <script>
    const audio3 = document.getElementById('testobject3');
    const audioButton3 = document.getElementsByClassName('object3')[0];

    audioButton3.addEventListener('mousedown', function(){
        audio3.play();
    });

    audioButton3.addEventListener("mouseup", function() {
        audio3.pause();

        audio3.currentTime = 0; 
    });
    </script>

    <script>
    const audio4 = document.getElementById('testobject4');
    const audioButton4 = document.getElementsByClassName('object4')[0];

    audioButton4.addEventListener('mousedown', function(){
        audio4.play();
    });

    audioButton4.addEventListener("mouseup", function() {
        audio4.pause();

        audio4.currentTime = 0; 
    });
    </script>

    <script>
    const audio6 = document.getElementById('testobject6');
    const audioButton6 = document.getElementsByClassName('object6')[0];

    audioButton6.addEventListener('mousedown', function(){
        audio6.play();
    });

    audioButton6.addEventListener("mouseup", function() {
        audio6.pause();

        audio6.currentTime = 0; 
    });
    </script>

    <script>
    const audio7 = document.getElementById('testobject7');
    const audioButton7 = document.getElementsByClassName('object7')[0];

    audioButton7.addEventListener('mousedown', function(){
        audio7.play();
    });

    audioButton7.addEventListener("mouseup", function() {
        audio7.pause();

        audio7.currentTime = 0; 
    });
    </script>

    <script>
    const audio8 = document.getElementById('testobject8');
    const audioButton8 = document.getElementsByClassName('object8')[0];

    audioButton8.addEventListener('mousedown', function(){
        audio8.play();
    });

    audioButton8.addEventListener("mouseup", function() {
        audio8.pause();

        audio8.currentTime = 0; 
    });
    </script>

<script>
    const audio10 = document.getElementById('testobject10');
    const audioButton10 = document.getElementsByClassName('object10')[0];

    audioButton10.addEventListener('mousedown', function(){
        audio10.play();
    });

    audioButton10.addEventListener("mouseup", function() {
        audio10.pause();

        audio10.currentTime = 0; 
    });
    </script>

    <script>
    const audio11 = document.getElementById('testobject11');
    const audioButton11 = document.getElementsByClassName('object11')[0];

    audioButton11.addEventListener('mousedown', function(){
        audio11.play();
    });

    audioButton11.addEventListener("mouseup", function() {
        audio11.pause();

        audio11.currentTime = 0; 
    });
    </script>

    <script>
    const audio13 = document.getElementById('testobject13');
    const audioButton13 = document.getElementsByClassName('object13')[0];

    audioButton13.addEventListener('mousedown', function(){
        audio13.play();
    });

    audioButton13.addEventListener("mouseup", function() {
        audio13.pause();

        audio13.currentTime = 0; 
    });
    </script>

    <script>
    const audio14 = document.getElementById('testobject14');
    const audioButton14 = document.getElementsByClassName('object14')[0];

    audioButton14.addEventListener('mousedown', function(){
        audio14.play();
    });

    audioButton14.addEventListener("mouseup", function() {
        audio14.pause();

        audio14.currentTime = 0; 
    });
    </script>

    <script>
    const audio16 = document.getElementById('testobject16');
    const audioButton16 = document.getElementsByClassName('object16')[0];

    audioButton16.addEventListener('mousedown', function(){
        audio16.play();
    });

    audioButton16.addEventListener("mouseup", function() {
        audio16.pause();

        audio16.currentTime = 0; 
    });
    </script>

    <script>
    const audio17 = document.getElementById('testobject17');
    const audioButton17 = document.getElementsByClassName('object17')[0];

    audioButton17.addEventListener('mousedown', function(){
        audio17.play();
    });

    audioButton17.addEventListener("mouseup", function() {
        audio17.pause();

        audio17.currentTime = 0; 
    });
    </script>

    <script>
    const audio19 = document.getElementById('testobject19');
    const audioButton19 = document.getElementsByClassName('object19')[0];

    audioButton19.addEventListener('mousedown', function(){
        audio19.play();
    });

    audioButton19.addEventListener("mouseup", function() {
        audio19.pause();

        audio19.currentTime = 0; 
    });
    </script>

    <script>
    const audio20 = document.getElementById('testobject20');
    const audioButton20 = document.getElementsByClassName('object20')[0];

    audioButton20.addEventListener('mousedown', function(){
        audio20.play();
    });

    audioButton20.addEventListener("mouseup", function() {
        audio20.pause();

        audio20.currentTime = 0; 
    });
    </script>

    <script>
document.addEventListener('DOMContentLoaded', () => {
  const typewriterElement = document.getElementById('typewriter-text');
  const textToType = "WELCOME TO MY WIZARDS LAIR. Please look around at the objects and I will tell you about them!";
  let i = 0;
  const typingSpeed = 50;
  const disappearanceDelay = 5000;

  function typeWriter() {
    if (i < textToType.length) {
      typewriterElement.innerHTML += textToType.charAt(i);
      i++;
      setTimeout(typeWriter, typingSpeed);
    } else {
      setTimeout(() => {
        typewriterElement.style.display = 'none';
      }, disappearanceDelay);
    }
  }

  typeWriter();
});
    </script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const intro = document.getElementById("intro-text");

    // If the intro was shown before, hide it immediately
    if (localStorage.getItem("introShown") === "true") {
        intro.style.display = "none";
    } else {
        // First time visitor → show intro and mark as shown
        intro.style.display = "block";
        localStorage.setItem("introShown", "true");
    }
});
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const objects = document.querySelectorAll(".object-univ");

    objects.forEach(obj => {

        // Identify object number (1–20)
        const numClass = [...obj.classList].find(c => c.startsWith("object") && c !== "object-univ");
        if (!numClass) return;

        const num = numClass.replace("object", "");
        const bubble = document.querySelector(`.text${num}`);
        if (!bubble) return;

        const p = bubble.querySelector(".text-univ");
        const fullText = p.dataset.fulltext;
        let typerInterval = null;
        let index = 0;

        function startTypewriter() {
            p.textContent = "";
            index = 0;

            typerInterval = setInterval(() => {
                if (index < fullText.length) {
                    p.textContent += fullText.charAt(index);
                    index++;
                } else {
                    clearInterval(typerInterval);
                }
            }, 50); 
        }

        function stopTypewriter() {
            clearInterval(typerInterval);
            p.textContent = "";
        }

        obj.addEventListener("pointerdown", () => {
            bubble.style.display = "block";
            startTypewriter();
        });

        function hide() {
            bubble.style.display = "none";
            stopTypewriter();
        }

        obj.addEventListener("pointerup", hide);
        obj.addEventListener("pointerleave", hide);
    });
});
</script>


<script>
document.addEventListener("DOMContentLoaded", () => {

    // ---- DRAGGABLE SYSTEM ----
    const draggables = document.querySelectorAll(".draggable");

    draggables.forEach(el => {
        let offsetX = 0, offsetY = 0;
        let isDragging = false;

        el.addEventListener("pointerdown", (e) => {
            // Prevent hold-to-typewriter from activating during drag
            if (el.classList.contains("draggable")) {
                isDragging = true;
                offsetX = e.clientX - el.getBoundingClientRect().left;
                offsetY = e.clientY - el.getBoundingClientRect().top;
                el.setPointerCapture(e.pointerId);
            }
        });

        el.addEventListener("pointermove", (e) => {
            if (!isDragging) return;
            
            let x = e.clientX - offsetX;
            let y = e.clientY - offsetY;

            el.style.left = x + "px";
            el.style.top = y + "px";
            console.log(e)
        });

        el.addEventListener("pointerup", (e) => {
            if (isDragging) {
                isDragging = false;
                el.releasePointerCapture(e.pointerId);
            }
        });

        el.addEventListener("pointerleave", (e) => {
            if (isDragging) {
                isDragging = false;
                el.releasePointerCapture(e.pointerId);
            }
        });
    });

});
</script>
    </div>

</body>
</html>